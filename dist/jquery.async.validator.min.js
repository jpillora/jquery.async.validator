/*! jQuery Asynchronous Validator - v1.0.0 - 2013-01-02
* https://github.com/jpillora/jquery.async.validator
* Copyright (c) 2013 Jaime Pillora MIT Licensed  */

(function(){(function(e){function i(){if(this.suppressLog)return;u("log",this,arguments)}function s(){u("warn",this,arguments)}function o(){u("info",this,arguments)}function u(t,n,i){if(window.console===undefined||window.console.isFake===!0)return;var s=e.map(i,r);s[0]=[n.prefix,s[0],n.postfix].join("");var o=e.type(s[s.length-1])==="boolean"?s.pop():null;o===!0&&window.console.group(s[0]),s[0]&&o===null&&(e.browser.msie?window.console.log(s.join(",")):window.console[t].apply(window.console,s)),o===!1&&window.console.groupEnd()}function a(e){return{log:function(){i.apply(e,arguments)},warn:function(){s.apply(e,arguments)},info:function(){o.apply(e,arguments)}}}window.console===undefined&&(window.console={isFake:!0}),window.console===undefined&&(window.console={isFake:!0});var t=["log","warn","info","group","groupCollapsed","groupEnd"];for(var n=t.length-1;n>=0;n--)window.console[t[n]]===undefined&&(window.console[t[n]]=e.noop);if(!e)return;var r=function(e){return e},f=function(t){return t=e.extend({},f.defaults,t),a(t)};f.defaults={suppressLog:!1,prefix:"",postfix:""},e.extend(f,a(f.defaults)),e.console===undefined&&(e.console=f),e.consoleNoConflict=f})(jQuery);var e=function(){return((1+Math.random())*65536|0).toString(16).substring(1)},t=function(){var e=function(t){var n=t.split(""),r="",i=!1,s="",o=!1,u=0,a={};for(var f in n){var l=n[f];if(!i){if(l=="("){i=!0,a[r]=[];continue}l!=" "&&(r+=l)}i&&!o&&(l=="("?(s+=l,u++):l==")"&&u>0?(s+=l,s&&a[r].push(e(s)),s="",u--):l==")"&&u==0?(s&&a[r].push(s),o=!0):l==","&&u==0?(s&&a[r].push(s),s=""):s+=l)}return a};return{parse:e}}();(function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;window.Class=function(){},Class.extend=function(n){function o(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var i=new this;e=!1;for(var s in n)i[s]=typeof n[s]=="function"&&typeof r[s]=="function"&&t.test(n[s])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(s,n[s]):n[s];return o.prototype=i,o.prototype.constructor=o,o.extend=arguments.callee,o}})();var n=Class.extend({init:function(t,n){n?this.name=n:this.name="Set_"+e(),this.array=[],this.addAll(t)},find:function(e){for(var t=0,n=this.array.length;t<n;++t)if($.isFunction(e)?e(this.get(t)):this.equals(this.get(t),e))return this.get(t);return null},get:function(e){return this.array[e]},has:function(e){return!!this.find(e)},add:function(e){return this.has(e)?!1:(this.array.push(e),!0)},addAll:function(e){if(!e)return 0;$.isArray(e)||(e=[e]);var t=0;for(var n=0,r=e.length;n<r;++n)this.add(e[n])&&t++;return t},remove:function(e){var t=[];for(var n=0,r=this.array.length;n<r;++n)this.equals(this.get(n),e)||t.push(this.get(n));return this.array=t,e},removeAll:function(){this.array=[]},equals:function(e,t){return e&&t&&e.equals!==undefined&&t.equals!==undefined?e.equals(t):e===t},each:function(e){for(var t=0,n=this.array.length;t<n;++t)e(this.get(t))},map:function(e){return $.map(this.array,e)},filter:function(e){return $.grep(this.array,e)},size:function(){return this.array.length},getArray:function(){return this.array}}),r=n.extend({init:function(e,t,n){this.type=e,this._super(t,n)},add:function(e){e instanceof this.type?this._super(e):this.log("add failed - invalid type")}});(function(i){"use strict";function h(e){d("field",e)}function p(e){d("group",e)}function d(e,t){for(var n in t)c[e][n]&&a("validator '%s' already exists",n);i.extend(!0,c[e],t)}function g(e){i.extend(!0,this,e)}function y(e,t){var n=[].slice.call(e,0);return n[0]=t+n[0],n}function E(t,n,r,s){function p(e){u("ajax error"),r.callback("There has been an error")}function g(){c.prompt(a,!1);var e=w.loading[h];while(e.length)e.pop().success.apply(n,arguments);w.loaded[h]=arguments}var o={method:"GET",timeout:15e3},a=r.triggerField||r.field,f=t.success,l=t.error,c=s.options,h=JSON?JSON.stringify(t):e(),d={success:f,error:l||p};if(w.loaded[h]){var v=w.loaded[h],m=d.success;m.apply(n,v);return}w.loading[h]||(w.loading[h]=[]),w.loading[h].push(d);if(w.loading[h].length!==1)return;c.prompt(a,"Checking...","load");var y={success:g,error:g};i.ajax(i.extend(o,t,y))}var s="1.0.0",o=i.consoleNoConflict({prefix:"asyncValidator: "}),u=o.log,a=o.warn,f=o.info,l={memoize:function(e,t){var n={};return function(){var r=t?t.apply(this,arguments):Array.prototype.join.call(arguments,"|");return Object.prototype.hasOwnProperty.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}},dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},parseDate:function(e){var t=e.match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(!t)return null;var n;if(i.datepicker!==undefined)try{var r=i.datepicker.parseDate("dd/mm/yy",e);n=new Date(r)}catch(s){return null}else n=new Date(parseInt(t[3],10),parseInt(t[2],10)-1,parseInt(t[1],10));return n},isRTL:function(e){var t=i(document),n=i("body"),r=e&&e.hasClass("rtl")||e&&(e.attr("dir")||"").toLowerCase()==="rtl"||t.hasClass("rtl")||(t.attr("dir")||"").toLowerCase()==="rtl"||n.hasClass("rtl")||(n.attr("dir")||"").toLowerCase()==="rtl";return Boolean(r)}},c={field:{},group:{}},v=null;(function(){var e=l.memoize(t.parse),n=function(e,t){},r=l.memoize(function(e,t){if(e!=="field"&&e!=="group")return a("invalid rule type: '"+e+"'");var n=c[e][t];return n?new S(e,t,n):a("missing '"+e+"' rule '"+t+"'")});v=function(t){var n=!1,s=null,o=[];if(t.type==="ValidationGroup")s="group";else{if(t.type!=="ValidationField")return a("cannot get rules from invalid type");s="field"}if(!t.elem)return o;var u=t.form.options.validateAttribute,f=t.elem.attr(u);if(!f)return o;var l=e("x("+f+")").x;if(!l)return o;for(var c=0,h=l.length;c<h;++c){var p=null,d=[],v=l[c];if(!v)return a("cannot execute null rule");if(i.type(v)==="string")p=v;else{if(!i.isPlainObject(v))return a('cannot execute rule of type "'+i.type(v)+'"');for(var m in v){if(p)return a("rule object should only contain 1 key");p=m}if(!p)return a("rule object should contain 1 key");d=v[p];if(!i.isArray(d))return a("invalid rule params type - must be array")}p=i.trim(p),p==="required"&&(n=!0);var g=r(s,p);g&&o.push({rule:g,params:d})}return o.required=n,o}})();var m={debug:!1,validateAttribute:"data-validate",validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,hideErrorOnChange:!1,skipHiddenFields:!0,errorClass:"error",errorContainer:function(e){return e},onValidationComplete:function(e,t){return t},track:i.noop,prompt:function(e,t,n){i.type(i.prompt)==="function"&&i.prompt(e,t,n)}};g.prototype=m;var b=Class.extend({name:"Class",init:function(){},toString:function(){return(this.type?this.type+": ":"")+(this.name?this.name+": ":"")},log:function(){if(!m.debug)return;u.apply(this,y(arguments,this.toString()))},warn:function(){a.apply(this,y(arguments,this.toString()))},info:function(){f.apply(this,y(arguments,this.toString()))},bind:function(e){var t=this[e];t&&i.isFunction(t)&&(this[e]=i.proxy(t,this))},bindAll:function(){for(var e in this)this.bind(e)}}),w={loading:{},loaded:{}},S=b.extend({init:function(e,t,n){this.name=t,this.type=e,this.buildFn(n)},buildFn:function(e){if(i.isFunction(e)){this.fn=e,this.userObj=null,this.ready=!0;return}if(!i.isPlainObject(e))return this.warn("rule definition must be a function or an object");this.userObj=i.extend(!0,{},e);while(i.type(this.userObj.extend)==="string"){var t=this.userObj.extend.match(/^((\w+):)?(\w+)$/),n=t[2]||this.type,r=t[3];delete this.userObj.extend;if(!c[n])return this.warn("cannot extend type: '"+n+"'");var s=c[n][r];if(this.userObj===s)return this.warn("cannot extend self");if(!i.isPlainObject(s))return this.warn("cannot extend: '"+r+"'");this.userObj=i.extend(!0,{},s,this.userObj)}if(i.isFunction(this.userObj.fn))this.fn=this.userObj.fn,delete this.userObj.fn;else{if(i.type(this.userObj.regex)!=="regexp")return this.warn("rule definition lacks a function");this.fn=function(e){return function(t){var n=new RegExp(e);return t.val().match(n)?!0:t.message||"Invalid Format"}}(this.userObj.regex),delete this.userObj.regex}this.ready=!0},defaultInterface:{log:u,warn:a},defaultFieldInterface:{val:function(){return this.field.val.apply(this.field,arguments)}},defaultGroupInterface:{fields:function(e){return this.field.find(e||"input,select")}},buildInterface:function(e){var t=[];return t.push({}),t.push(this.userObj),t.push(this.defaultInterface),this.type==="field"&&t.push(this.defaultFieldInterface),this.type==="group"&&t.push(this.defaultGroupInterface),t.push(e),i.extend.apply(this,t)}}),x=null,T=null;(function(){var t=b.extend({STATUS:{NOT_STARTED:0,RUNNING:1,COMPLETE:2},init:function(t,n){this.element=t,t&&(t.executions.push(this),this.domElem=t.elem),this.parent=n,this.name=e(),this.status=this.STATUS.NOT_STARTED,this.errors=[],this.bindAll()},toString:function(){return this._super()+(this.element||this.rule).toString()},serialize:function(e){return i.Deferred.serialize(i.map(e,function(e){return i.isFunction(e)?e:e.execute}))},parallelize:function(e){return i.Deferred.parallelize(i.map(e,function(e){return i.isFunction(e)?e:e.execute}))},execute:function(){this.log("execute",!0),this.status=this.STATUS.RUNNING},executed:function(e){this.log("",!1),this.log("done: "+e),this.status=this.STATUS.COMPLETE},skipValidations:function(){return this.element.form.options.skipHiddenFields&&(!this.domElem.hasClass("styled")&&this.domElem.is(":hidden")||this.domElem.hasClass("styled")&&this.domElem.parents(":hidden").length>0)?!0:this.domElem.is("[disabled]")?!0:!1}});x=t.extend({type:"FormExecution",init:function(e){this._super(e),this.ajaxs=[];var t=this;this.executables=[],this.element.fieldsets.map(function(e){t.executables.push(new n(e,t))})},execute:function(){return this._super(),this.log("exec groups #"+this.executables.length),this.domElem.triggerHandler("validating"),this.parallelize(this.executables).always(this.executed)},executed:function(e){this._super(e),this.element.info("result: "+(e===undefined?"Passed":"Failed: "+e)),this.domElem.triggerHandler("validated",arguments)}});var n=t.extend({type:"GroupExecution",init:function(e,t){this._super(e,t)},execute:function(){this._super();if(this.skipValidations())return i.Deferred().always(this.executed).resolve().promise();this.log("getting group rules");var e=v(this.element),t=i.map(e,i.proxy(function(e){return new r(e,this)},this));this.beforeRules=[],this.afterRules=[];for(var n=0,s=t.length;n<s;++n){var o=t[n];o.rule.userObj&&o.rule.userObj.run==="after"?this.afterRules.push(o):this.beforeRules.push(o)}if(this.parent instanceof T&&this.afterRules.length===0){var u=this.parent;u.group=this,this.fields=[u]}else this.fields=this.element.fields.map(i.proxy(function(e){return new T(e,this)},this));this.log("exec");var a=[];return this.beforeRules.length>0&&a.push(this.execBefore),a.push(this.execFields),this.afterRules.length>0&&a.push(this.execAfter),this.serialize(a).always(this.executed)},execBefore:function(){return this.log("before rules #%s",this.beforeRules.length),this.serialize(this.beforeRules).always(this.executedBefore)},execFields:function(){return this.log("exec fields #%s",this.fields.length),this.parallelize(this.fields).always(this.executedFields)},execAfter:function(){return this.log("after rules #%s",this.afterRules.length),this.serialize(this.afterRules).always(this.executedAfter)},executedBefore:function(e){this.executedBeforeAfter(e)},executedFields:function(e){},executedAfter:function(e){this.executedBeforeAfter(e)},executedBeforeAfter:function(e){var t=!!e,n=this.element.form.options;this.element.fields.each(function(e){n.prompt(e.elem,!1),n.errorClass&&n.errorContainer(e.elem).toggleClass(n.errorClass,t)});var r=this.triggerField();r||(r=this.element.fields.array[0]&&this.element.fields.array[0].elem),r&&n.prompt(r,e),this.parent instanceof T&&this.parent.element.options.track("Validate Group",this.parent.element.name+";"+(this.domElem.attr("data-validate")||"non_group"),t?e:"Valid",t?0:1)},executed:function(e){this._super();var t=!!e},triggerField:function(){return this.parent instanceof T?this.parent.domElem:null}});T=t.extend({type:"FieldExecution",init:function(e,t){this._super(e,t),this.children=[],t instanceof n&&(this.group=t)},execute:function(){this._super(),this.skip=!0;if(!this.group&&this.element.fieldset.nongroup===!1)return this.log("redirect to group exec: "+this.element.name),this.group=new n(this.element.fieldset,this),this.group.execute().always(function(){u("",!1)});this.domElem.triggerHandler("validating");var e=v(this.element),t=null;if(this.skipValidations())this.log("skip");else if(!e.required&&!i.trim(this.domElem.val()))this.log("not required");else if(i.isArray(e)&&e.length){var s=this,o=i.map(e,function(e){return new r(e,s)});this.log("exec rules #%s",o.length),t=this.serialize(o),this.skip=!1}else this.log("no validators");return this.skip===!0&&(t=i.Deferred(),t.resolve()),t.always(this.executed),t.promise()},executed:function(e){this._super(e),this.log("validated");var t=!!e,n=this.element.form.options;n.prompt(this.domElem,e),this.domElem.triggerHandler("validated",[e]),n.errorClass&&n.errorContainer(this.domElem).toggleClass(n.errorClass,t);var r=this.parent,i=r&&r.parent,s=null,o=!1;t&&i&&i instanceof x&&this.parent.parent.errors.push({message:e,field:this.domElem}),r&&(s=r.triggerField()),o=s?s.equals(this.domElem):!0,o&&(!r||r.parent instanceof T)&&this.element.options.track("Validate Field",this.element.form.name+" "+this.element.name,t?e:this.skip?"Skip":"Valid",t?0:1)}});var r=t.extend({type:"RuleExecution",init:function(e,t){this._super(null,t),this.rule=e.rule,this.params=e.params,this.validationElem=this.parent.element,this.options=this.validationElem.options},execute:function(){this._super();var e=i.Deferred(),t=this.rule,r=this;e.always(this.executed);var s=0,o=function(t){clearTimeout(a),s++,r.log("callback #"+s+" with: "+t);if(s>1)return;var n=t===undefined||t===!0;n?e.resolve():e.reject(t)},u=this.validationElem;if(!u||!t.ready)return this.warn(u?"not ready.":"invalid parent."),o(),e.promise();this.log("run");var a=setTimeout(function(){r.warn("timeout!"),o("Timeout")},1e4),f={},l=null;this.parent instanceof n&&(f.triggerField=this.parent.triggerField()),f.field=u.elem,f.form=u.form.elem,f.callback=o,f.params=this.params,f.args=this.params,f.ajax=function(e){E(e,t,f,u)};var c=t.buildInterface(f),h=t.fn(c);return h!==undefined&&o(h),e.promise()}})})();var N=null;(function(){var t=b.extend({type:"ValidationElement",init:function(e){return this.bindAll(),this.elem=e,this.setName(),this.executions=[],!e.length||e.data("asyncValidator")?!1:(e&&e.data("asyncValidator",this),!0)},setName:function(){var t=null;this.elem&&(t=this.elem.attr("name")||this.elem.attr("id")),t||(t=e()),this.name=t},equals:function(e){var n,r;return this.elem?(n=this.elem,e.jquery?r=e:e instanceof t&&e.elem&&(r=e.elem),n&&r?n.equals(r):!1):!1},print:function(){function e(e){if(!(e instanceof t))return;e.print()}this instanceof s&&this.log(">");for(var r in this){var i=this[r];if(!(i instanceof n))continue;this.log(r+" #"+i.size(),!0),i.each(e),this.log(undefined,!1)}}}),s=t.extend({type:"ValidationField",init:function(e,t){if(!this._super(e))return;this.form=t,this.options=t.options,this.ruleNames=null,this.fieldset=null},validate:function(e){var t=new T(this);return t.execute().always(e),undefined}}),o=t.extend({type:"ValidationGroup",nongroup:!1,init:function(e,t){this._super(e);if(!e||!e.jquery)return;e.length||(this.nongroup=!0,this.name+="_nongroup"),this.form=t,this.options=t.options,this.fields=new r(s)}});N=t.extend({type:"ValidationForm",init:function(e,t){if(!e.length)return;if(!e.is("form"))return;if(!this._super(e))return;this.options=new g(t),this.fields=new r(s),this.fieldsets=new r(o),this.fieldByName={},this.invalidFields={},this.fieldHistory={},this.submitResult=undefined,this.submitPending=!1,this.cache={ruleNames:{},ajax:{loading:{},loaded:{}}},i(document).ready(this.bindEvents)},extendOptions:function(e){i.extend(!0,this.options,e)},bindEvents:function(){this.elem.on("keyup.jqv","input",this.onKeyup).on("blur.jqv","input[type=text]:not(.hasDatepicker),input:not([type].hasDatepicker)",this.onValidate).on("change.jqv","input[type=text].hasDatepicker",this.onValidate).on("change.jqv","select,[type=checkbox],[type=radio]",this.onValidate).on("submit.jqv",this.onSubmit).on("validated.jqv",this.scrollFocus).trigger("initialised.jqv"),this.updateFields(),this.info("bound to "+this.fields.size()+" elems")},unbindEvents:function(){this.elem.off(".jqv")},updateFields:function(){var e="["+this.options.validateAttribute+"]";this.elem.find(e).each(this.updateField)},updateField:function(e,t){e.jquery!==undefined&&(t=e),t.jquery===undefined&&(t=i(t));var n="input:not([type=hidden]),select,textarea",r,u,a,f;return t.is(n)?u=t:f=t,u&&(r=this.fields.find(u),r||(r=new s(u,this),this.fields.add(r)),f=u.parentsUntil(this.elem,"["+this.options.validateAttribute+"]:first")),a=this.fieldsets.find(f),a||(a=new o(f,this),this.fieldsets.add(a)),r?(a.fields.add(r),r.fieldset=a):f.find(n).each(this.updateField),r},onSubmit:function(e){var t=!1;this.submitPending&&this.warn("pending...");if(!this.submitPending&&this.submitResult===undefined){this.submitPending=!0;var n=this;this.validate(function(e){n.submitPending=!1,n.submitResult=!e,n.elem.submit(),n.submitResult=undefined})}else this.submitResult!==undefined&&(t=this.options.onValidationComplete(e,this.submitResult));return t||e.preventDefault(),t},onKeyup:function(e){this.options.hideErrorOnChange&&this.options.prompt(i(e.currentTarget),!1)},onValidate:function(e){var t=i(e.currentTarget),n=t.data("asyncValidator")||this.updateField(t);n.log("validate"),n.validate(i.noop)},validate:function(e){this.updateFields();var t=new x(this);return t.execute().always(e),undefined},scrollFocus:function(){var e=this.executions[this.executions.length-1];if(!e.errors.length)return;var t=e.errors[0].field,n=this.options.focusFirstField&&t.is("input[type=text]");this.options.scroll?t.scrollView(function(){n&&t.focus()}):n&&t.focus()}})})(),i.fn.scrollView=function(e){return this.each(function(){var t=i(this);t.is(".styled")&&(t=t.siblings("span")),i("html, body").animate({scrollTop:Math.max(0,t.offset().top-100)},{duration:1e3,complete:e||i.noop})})},i.fn.equals=function(e){if(i(this).length!==e.length)return!1;for(var t=0,n=i(this).length;t<n;++t)if(i(this)[t]!==e[t])return!1;return!0},i.Deferred.serialize=function(e){if(!i.isArray(e)||e.length===0)return i.Deferred().resolve().promise();var t=e[0](),n=1,r=e.length;for(;n<r;n++)t=t.pipe(e[n]);return t},i.Deferred.parallelize=function(e){function u(e){n++,n===s&&t.resolve(e)}function a(e){if(o)return;o=!0,t.reject(e)}var t=i.Deferred(),n=0,r=0,s=e.length,o=!1;if(!i.isArray(e)||s===0)return t.resolve();for(;r<s;++r)e[r]().done(u).fail(a);return t.promise()},i.fn.validate=function(e){var t=i(this).data("asyncValidator");t?t.validate(e):a("element does not have async validator attached")},i.fn.validate.version=s,i.fn.asyncValidator=function(e){return this.each(function(t){var n=i.asyncValidator.forms.find(i(this));if(e===!1||e==="destroy"){n&&(n.unbindEvents(),i.asyncValidator.forms.remove(n));return}n?n.extendOptions(e):(n=new N(i(this),e),i.asyncValidator.forms.add(n))})},i.asyncValidator=function(e){i.extend(m,e)},i.extend(i.asyncValidator,{version:s,addFieldRules:h,addGroupRules:p,log:f,warn:a,defaults:m,globals:m,utils:l,forms:new r(N,[],"FormSet")}),i(function(){i("form").filter(function(){return i(this).find("[data-validate]").length}).asyncValidator()}),i(function(){i("form").filter(function(){return i(this).find("[data-validate]").length>0}).asyncValidator()}),u("plugin added.")})(jQuery),function(e){if(e.asyncValidator===undefined){window.alert("Please include jquery.async.validator.js before each rule file");return}e.asyncValidator.addFieldRules({currency:{regex:/^\$?\d+(,\d+)*(\.\d+)?$/,message:"Invalid monetary value"},email:{regex:/^(([^<>()\[\]\\.,;:\s@\"]+(\.[^<>()\[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Invalid email address"},alphanumeric:{regex:/^[0-9A-Za-z]+$/,message:"Use digits and letters only"},street_number:{regex:/^\d+[A-Za-z]?(-\d+)?[A-Za-z]?$/,message:"Street Number only"},number:{regex:/^\d+$/,message:"Use digits only"},numberSpace:{regex:/^[\d\ ]+$/,message:"Use digits and spaces only"},postcode:{regex:/^\d{4}$/,message:"Invalid postcode"},date:{fn:function(t){return e.asyncValidator.utils.parseDate(t.val())?!0:t.message},message:"Invalid date"},required:{fn:function(e){return e.requiredField(e,e.field)},requiredField:function(t,n){var r=n.val();switch(n.prop("type")){case"radio":case"checkbox":var i=n.attr("name");if(t.form.find("input[name='"+i+"']:checked").size()===0)return t.form.find("input[name='"+i+"']").size()===1?t.messages.checkboxSingle:t.messages.checkboxMultiple;break;default:if(!e.trim(r))return t.messages.all}return!0},messages:{all:"This field is required",checkboxMultiple:"Please select an option",checkboxSingle:"This checkbox is required"}},regex:{fn:function(e){var t;try{var n=e.params[0];t=new RegExp(n)}catch(r){return e.warn("Invalid regex: "+n),!0}return e.val().match(t)?!0:e.message||"Invalid Format"},message:"Invalid format"},asyncTest:function(e){e.prompt("Please wait..."),setTimeout(function(){e.callback()},2e3)},phone:function(e){e.val(e.val().replace(/\D/g,""));var t=e.val();return t.match(/^[\d\s]+$/)?t.match(/^0/)?t.replace(/\s/g,"").length!==10?"Must be 10 digits long":!0:"Number must start with 0":"Use digits and spaces only"},size:function(e){var t=e.val(),n=e.params[0],r=e.params[1];if(n!==undefined&&r===undefined){var i=parseInt(n,10);if(e.val().length!==i)return"Must be "+i+" characters"}else if(n!==undefined&&r!==undefined){var s=parseInt(n,10);r=parseInt(r,10);if(t.length<s||r<t.length)return"Must be between "+s+" and "+r+" characters"}else console.log("size validator parameter error on field: "+e.field.attr("name"));return!0},min:function(e){var t=e.val(),n=parseInt(e.params[0],10);return t.length<n?"Must be at least "+n+" characters":!0},max:function(e){var t=e.val(),n=parseInt(e.params[0],10);return t.length>n?"Must be at most "+n+" characters":!0},decimal:function(e){var t=e.val(),n=e.params[0]?parseInt(e.params[0],10):2;if(!t.match(/^\d+(,\d{3})*(\.\d+)?$/))return"Invalid decimal value";var r=parseFloat(t.replace(/[^\d\.]/g,"")),i=Math.pow(10,n);return r=Math.round(r*i)/i,e.field.val(r),!0},min_val:function(e){var t=parseFloat(e.val().replace(/[^\d\.]/g,"")),n=e.params[1]||"",r=parseFloat(e.params[0]);return t<r?"Must be greater than "+r+n:!0},max_val:function(e){var t=parseFloat(e.val().replace(/[^\d\.]/g,"")),n=e.params[1]||"",r=parseFloat(e.params[0]);return t>r?"Must be less than "+r+n:!0},range_val:function(e){var t=parseFloat(e.val().replace(/[^\d\.]/g,"")),n=e.params[2]||"",r=e.params[3]||"",i=parseFloat(e.params[0]),s=parseFloat(e.params[1]);return t>s||t<i?"Must be between "+n+i+r+"\nand "+n+s+r:!0},agreement:function(e){return e.field.is(":checked")?!0:"You must agree to continue"},minAge:function(t){var n=t.params[0];if(!n||isNaN(parseInt(n,10)))return console.log("WARNING: Invalid Age Param: "+n),!0;var r=new Date,i=new Date;i.setFullYear(i.getFullYear()-parseInt(n,10));var s=e.asyncValidator.utils.parseDate(t.val());return s==="Invalid Date"?"Invalid Date":s>i?"You must be at least "+n:!0}}),e.asyncValidator.addGroupRules({required:{run:"before",extend:"field:required",fn:function(t){var n=!0;return t.fields().each(function(){if(n!==!0)return;n=t.requiredField(t,e(this))}),n}},min_checks:{run:"before",fn:function(e){var t=e.fields("input[type=checkbox]:checked"),n=parseInt(e.params[0],10);return t.length<n?"You must choose at least "+(n===1?"one":n):!0}}})}(jQuery)})();
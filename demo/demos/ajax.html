


<div data-demo>
  <form>
    <input name="field" value="abc" data-validate="testAjax">
    <input name="field" value="abc" data-validate="+#$#@">
    <input class="submit" type="submit"/>
  </form>
</div>


<!-- jQuery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<!-- Local Test -->
<script src="../../dist/jquery.async.validator.prompt.js"></script>

<script type="text/javascript">
  
  $.asyncValidator({
    debug: true,
    skipNotRequired: false,
    beforeSubmit: function(result) {
      console.log("VALIDATION COMPLETE: " + result)
      return false;
    },
    // prompt: function() {
    //   console.warn("PROMPT", arguments[0].attr('id'), arguments[1]);
    // },
    track: function() {
      console.log("TRACK", arguments);
    }
  });

  $.asyncValidator.addRules({
    testAjax: function(r) {
      setTimeout(function() {
        r.callback(Math.random() > 0.5 ? true : 'Failed');
      }, 1000);
    }
  })

  $(function() {

    var selector = "form"// "#F1"
    setTimeout(function() {
      $(selector).validate(function(result) {
        console.log("DONE", result);
      });
    }, 1000);

  });

</script>
